include:
  - docassemble.MAVirtualCourt:basic-questions.yml
---
features:
  labels above fields: True
---
mandatory: True
code: |
  interview_metadata # make sure we initialize the object
  if not defined("interview_metadata['A_complaint_for_protection_from_abuse_probation_copy0005']"):
    interview_metadata.initializeObject('A_complaint_for_protection_from_abuse_probation_copy0005')
  interview_metadata['A_complaint_for_protection_from_abuse_probation_copy0005'].update({
    'title': '209A Complaint for Protection from Abuse pg 2',
    'short title': '209A Page 2',
    'description': 'Complete this form if you are applying for 209A restraining order and you have children under  18.',
    'original_form': 'https://www.mass.gov/doc/complaint-for-protection-from-abuse-gl-c-209a-page-2/download',
    'allowed courts': [
      'Boston Municipal Court',
      'District Court',
      'Probate and Family Court',
      'Superior Court',
    ],
    'preferred court': 'District Court',
    'categories': [
      'Domestic Violence / Safety of self',
      'Family Law',
    ],
    'logic block variable': 'A_complaint_for_protection_from_abuse_probation_copy0005',
    'attachment block variable': 'A_complaint_for_protection_from_abuse_probation_copy0005_attachment',
    'typical role': 'plaintiff',  })
---
variable name: interview_metadata['A_complaint_for_protection_from_abuse_probation_copy0005']['built_in_fields_used']
data:
  - variable: child1_name_full
  - variable: child1_age
  - variable: child2_name_full
  - variable: child2_age
  - variable: child3_name_full
  - variable: child3_age
  - variable: child4_name_full
  - variable: child4_age
  - variable: child5_name_full
  - variable: child5_age
  - variable: child6_name_full
  - variable: child6_age
  - variable: user_signature
---
variable name: interview_metadata['A_complaint_for_protection_from_abuse_probation_copy0005']['field_list']
data:
  - variable: custody_case_yes
    field_type: yesno
  - variable: custody_case_no
    field_type: yesno
  - variable: paternity_case_no
    field_type: yesno
  - variable: paternity_case_yes
    field_type: yesno
  - variable: request_custody_yes
    field_type: yesno
  - variable: child1_name_full__4
    field_type: text
    field_data_type: text
  - variable: child1_age__4
    field_type: text
    field_data_type: number
  - variable: child2_name_full__4
    field_type: text
    field_data_type: text
  - variable: child2_age__4
    field_type: text
    field_data_type: number
  - variable: child3_name_full__4
    field_type: text
    field_data_type: text
  - variable: child3_age__4
    field_type: text
    field_data_type: number
  - variable: child4_name_full__4
    field_type: text
    field_data_type: text
  - variable: child4_age__4
    field_type: text
    field_data_type: number
  - variable: child5_name_full__4
    field_type: text
    field_data_type: text
  - variable: child5_age__4
    field_type: text
    field_data_type: number
  - variable: child6_name_full__4
    field_type: text
    field_data_type: text
  - variable: child6_age__4
    field_type: text
    field_data_type: number
  - variable: reasons_for_no_contact
    field_type: area
    field_data_type: text
  - variable: order_defendant_remain_away_from_schools_daycares_yes
    field_type: yesno
  - variable: school_name_address_daycare_name_address
    field_type: text
    field_data_type: text
  - variable: visitation_yes
    field_type: yesno
  - variable: visitation_no
    field_type: yesno
  - variable: visitation_at_location
    field_type: yesno
  - variable: visitation_center_name
    field_type: text
    field_data_type: text
  - variable: visitation_payer_name_full
    field_type: text
    field_data_type: text
  - variable: visitation_supervised
    field_type: yesno
  - variable: visitation_supervisor_name_full
    field_type: text
    field_data_type: text
  - variable: visitation_times
    field_type: text
    field_data_type: text
  - variable: visitation_payer2_name_full
    field_type: text
    field_data_type: text
  - variable: visitation_third_party_involvement
    field_type: yesno
  - variable: visitation_third_party_name_full
    field_type: text
    field_data_type: text
  - variable: visitation_other
    field_type: yesno
  - variable: visitation_other_requests
    field_type: text
    field_data_type: text
  - variable: request_child_support_temporary_yes
    field_type: yesno
  - variable: user_signature_date
    field_type: text
    field_data_type: date
---
comment: |
  # If this question was here, the question about custody should
  # explain that these two types of custody are different.
  question: |
    todo: group SME required for all-interview assessment. Are there other cases between you and the defendant?
  subquestion: |
    Select what other kinds of cases have happened between you and the
    defendant.
  fields:
    - 'Related custody case': custody_case_yes
      datatype: yesno
    - 'No related custody case': custody_case_no
      datatype: yesno
    - 'Related paternity case': paternity_case_no
      datatype: yesno
    - 'No related paternity case': paternity_case_yes
      datatype: yesno
  ---
  question: |
    Contact with Children
  subquestion: |
    Are you asking for the defendant not to contact your children? If so, which children?
  fields:
    - 'Child 1 name': child1_name_full__4  # child[1-1].name.full
    - 'Child 1 age': child1_age__4
      datatype: number
    - 'Child 2 name': child2_name_full__4
    - 'Child 2 age': child2_age__4
      datatype: number
    - 'Child 3 name': child3_name_full__4
    - 'Child 3 age': child3_age__4
      datatype: number
    - 'Child 4 name': child4_name_full__4
    - 'Child 4 age': child4_age__4
      datatype: number
    - 'Child 5 name': child5_name_full__4
    - 'Child 5 age': child5_age__4
      datatype: number
    - 'Child 6 name': child6_name_full__4
    - 'Child 6 age': child6_age__4
      datatype: number
  ---
  # children[i]
  question: |
    Do you need the court to give you custody of ${ str(children[0]) }?
  yesno: request_custody_yes
  ---
  # children[i]
  # ${ defendants[0] }
  question: |
    Do you need the court to order the defendant not to contact ${ str(children[0]) }?
  yesno: do_request_no_contact
  ---
  question: |
    Reasons for asking Defendant not to Contact Children
  subquestion: |
  fields:
    - no label: reasons_for_no_contact
      input type: area
      required: False
  ---
  # todo: required on showif. change to address
  question: |
    School and Daycare
  subquestion: |
    Do you want the defendant to stay away from the children(s) school and/or daycare?
  fields:
    - 'Order defendant remain away from school(s)/daycare(s)': order_defendant_remain_away_from_schools_daycares_yes
      datatype: yesnoradio
    - 'School name and address and/or daycare name and address': school_name_address_daycare_name_address
      input type: area
      required: False
      default: ''
      show if: order_defendant_remain_away_from_schools_daycares_yes
  ---
  question: |
    To Do in Clean Up
  subquestion: |
    Placeholder text
  fields:
    - 'Date of user signature': user_signature_date
      datatype: date
  ---
  # todo: Depends on the court
  question: |
    Do you need the court order to permit visitation?
  subquestion: |
    todo: SME group consultation
  yesno: visitation  # wrong - opposite
  ---
  question: |
    Child Support
  subquestion: |
    If the defendant has an obligation to support your children (for example, if he
    is their father), do you want the defendant to pay temporary child support?
  yesno: request_child_support_temporary_yes
  ---
  # Give defendant name
  question: |
    When can the defendant visit your children?
  subquestion: |
    Placeholder SME needed
  fields:
    - 'Allow visitation at visitation center': visitation_at_location
      datatype: yesno
    - 'Visitation center name': visitation_center_name
    - 'Name of person paying for visitation center': visitation_payer_name_full
    - 'Allow supervised visitation': visitation_supervised
      datatype: yesno
    - "Visitation supervisor's name": visitation_supervisor_name_full
    - 'Visitation times': visitation_times
    - 'Name of person paying for visitation supervisor': visitation_payer2_name_full
    - 'Permit visitation with third party involvement': visitation_third_party_involvement
      datatype: yesno
    - "Third party's name": visitation_third_party_name_full
    - 'Permit other visitation': visitation_other
      datatype: yesno
    - 'Other visitation requests': visitation_other_requests
---
comment: |
  Start of implementation of https://docs.google.com/document/d/1o-7280WLN8U64ofjxb5m6JFycKvpmnGryvVmflmZv2I/edit?pli=1
---
id: A_complaint_for_protection_from_abuse_probation_copy0005
code: |
  # todo: Add ways to attach addenda for:
  # 1. Children want custody of table
  # 1. Chilren want no contact order for table
  # 1. Reasons want no contact paragraph
  # 1. School names/address paragraph
  
  # todo: check alignment of fields (and other todo field things)

  #######
  # Start of implementation of https://docs.google.com/document/d/1o-7280WLN8U64ofjxb5m6JFycKvpmnGryvVmflmZv2I/edit?pli=1
  #######
  interview_id = "A_complaint_for_protection_from_abuse_probation_copy0005"

  ##if children_involved_that_are_relevant:
  #basic_questions_intro_screen 
  #A_complaint_for_protection_from_abuse_probation_copy0005_intro  # Need a way to skip intro to every form?

  #######
  # Custom logic start
  #######
  num_children_is_parent_of
  num_children_has_care_of

  # Placeholder for now
  defendant_and_plaintiff_are_parents_of_child = True

  # todo: Add warnings about 18+ to both and prohibit
  # adding those children
  num_children_is_parent_of
  num_children_has_care_of
  children_of_parent[0].birthdate
  children_of_custody[0].birthdate

  # todo: This probably needs to be different in DA.
  # Probably a lot of these list things do.
  all_children = children_of_parent + children_of_custody

  # Should ask for custody and other things if child of both
  children_of_both = children_of_parent.filter(defendant_is_parent = True)

  if len(children_of_both) > 0:
    wants_custody_of
    for custody_child in wants_custody_of:
      custody_child.seeking_custody = True

  wants_no_contact_for
  for contact_child in wants_no_contact_for:
    contact_child.seeking_no_contact = True

  if len(wants_no_contact_for) > 0:
    # Wat?! Can't just use reasons_for_no_contact
    hack_reasons_for_no_contact = reasons_for_no_contact
  else:
    hack_reasons_for_no_contact = ''

  if schools_to_stay_away_from.there_are_any:
    schools_to_stay_away_from[0].name.text  # `Organization`s have `.name.text`

  actual_center_payer = ''
  actual_supervision_payer = ''
  if wants_visitation_orders:
    if not prohibit_visitation:
      wants_center  # Asks all the questions

      if defined('pays_for_center'):
        if pays_for_center == "other":
          actual_center_payer = other_pays_for_center
        else: actual_center_payer = pays_for_center

      if defined('supervision_payer'):
        if supervision_payer == "other":
          actual_supervision_payer = other_supervision_payer
        else: actual_supervision_payer = supervision_payer

    # ends if not prohibit_visitation
  # ends if wants_visitation_orders

  wants_child_support_for
  for support_child in wants_child_support_for:
    wants_child_support_for.seeking_child_support = True

  if need_help_for_majors:
    majors_needing_support[0].name.first

  have_had_custody_cases
  have_had_paternity_cases

  # DA way?
  children = all_children

  #########
  # End custom logic basically
  #########
  user_signature_date = signature_date
  # Pre-canned preview screen
  A_complaint_for_protection_from_abuse_probation_copy0005_preview_question
  basic_questions_signature_flow
  users[0].signature
  
  #mark_unfilled_fields_empty(interview_metadata[interview_id])

  #else:
  #  mark_unfilled_fields_empty(interview_metadata[interview_id])

  A_complaint_for_protection_from_abuse_probation_copy0005 = True
---
id: ensure_attachment_values
code: |

  # If a value is defined, use it. Otherwise, use the
  # default.
  def valueOrDefault(valStr, defaultVal):
    if defined( valStr ): return value( valStr )  # is this correct?
    else: return defaultVal

  #def valueOrEmptyWithoutTrigger(valStr):
  #  if defined( valStr ): return value( valStr )  # is this correct?
  #  else: return DAEmpty()  # is this correct?
  
  # Vars these attachments need
  children = all_children

  # How to do this len with possibly 0?
  requests_custody_yes = len(wants_custody_of.elements) > 0
  wants_custody_of1_name_full = str(wants_custody_of.item(1 - 1))
  wants_custody_of1_age = wants_custody_of.item(1 - 1).age_in_years()
  wants_custody_of2_name_full = str(wants_custody_of.item(2 - 1))
  wants_custody_of2_age = wants_custody_of.item(2 - 1).age_in_years()
  wants_custody_of3_name_full = str(wants_custody_of.item(3 - 1))
  wants_custody_of3_age = wants_custody_of.item(3 - 1).age_in_years()
  wants_custody_of4_name_full = str(wants_custody_of.item(4 - 1))
  wants_custody_of4_age = wants_custody_of.item(4 - 1).age_in_years()
  wants_custody_of5_name_full = str(wants_custody_of.item(5 - 1))
  wants_custody_of5_age = wants_custody_of.item(5 - 1).age_in_years()
  wants_custody_of6_name_full = str(wants_custody_of.item(6 - 1))
  wants_custody_of6_age = wants_custody_of.item(6 - 1).age_in_years()
  
  wants_no_contact_for1_name_full = str(wants_no_contact_for.item(1-1))
  wants_no_contact_for1_age = wants_no_contact_for.item(1-1).age_in_years()
  wants_no_contact_for2_name_full = str(wants_no_contact_for.item(2-1))
  wants_no_contact_for2_age = wants_no_contact_for.item(2-1).age_in_years()
  wants_no_contact_for3_name_full = str(wants_no_contact_for.item(3-1))
  wants_no_contact_for3_age = wants_no_contact_for.item(3-1).age_in_years()
  wants_no_contact_for4_name_full = str(wants_no_contact_for.item(4-1))
  wants_no_contact_for4_age = wants_no_contact_for.item(4-1).age_in_years()
  wants_no_contact_for5_name_full = str(wants_no_contact_for.item(5-1))
  wants_no_contact_for5_age = wants_no_contact_for.item(5-1).age_in_years()
  wants_no_contact_for6_name_full = str(wants_no_contact_for.item(6-1))
  wants_no_contact_for6_age = wants_no_contact_for.item(6-1).age_in_years()

  hack_reasons_for_no_contact = valueOrDefault('hack_reasons_for_no_contact', '')
  reasons_no_contact = hack_reasons_for_no_contact

  keep_away_from_schools_daycares = schools_to_stay_away_from.there_are_any
  # todo: Does this need special DA treatment
  school_strings = []
  for school in schools_to_stay_away_from:
    school_strings.append( str(school) + ' ' + school.address.on_one_line() )
  schools_to_stay_away_from_pdf = comma_and_list( school_strings )

  wants_visitation_orders_pdf = valueOrDefault('wants_visitation_orders', False)
  prohibit_visitation_pdf = valueOrDefault('prohibit_visitation', False)
  #log(wants_visitation_orders_pdf, 'console')  # Logs bool (04/28 2:45)
  #log(prohibit_visitation_pdf, 'console')  # Logs bool (04/28 2:45)
  permit_visitation_yes = wants_visitation_orders_pdf
  prohibit_visitation_yes = prohibit_visitation_pdf
  
  wants_center_pdf = valueOrDefault('wants_center', False)
  visitation_center_name_pdf = valueOrDefault('visitation_center_name', '')
  actual_center_payer_pdf = valueOrDefault('actual_center_payer', '')
  wants_visitation_center_yes = wants_center_pdf
  visitation_center_name = visitation_center_name_pdf
  visitation_center_payor_name = actual_center_payer_pdf

  wants_supervision_pdf = valueOrDefault('wants_supervision', False)
  visitation_supervisor_name_full_pdf = valueOrDefault('visitation_supervisor_name_full', '')
  supervision_time_pdf = valueOrDefault('supervision_time', '')
  actual_supervision_payer_pdf = valueOrDefault('actual_supervision_payer', '')
  wants_supervision_yes = wants_supervision_pdf
  visitation_supervisor_name = visitation_supervisor_name_full_pdf
  visitation_times = supervision_time_pdf
  visitation_supervision_payor_name = actual_supervision_payer_pdf

  wants_pickup_pdf = valueOrDefault('wants_pickup', False)
  who_picks_up_pdf = valueOrDefault('who_picks_up', '')
  wants_third_party_yes = wants_pickup_pdf
  third_party_name = who_picks_up_pdf

  wants_other_order_pdf = valueOrDefault('wants_other_order', False)
  other_order_pdf = valueOrDefault('other_order', '')
  wants_child_support_for_pdf = valueOrDefault('wants_child_support_for', '')
  wants_other_order_yes = wants_other_order_pdf
  other_order_discription = other_order_pdf
  wants_child_support_yes = len(wants_child_support_for_pdf) > 0
  
  # Vars other forms' attachments need
  # majors_needing_support  # is list

  # Placeholders (to be answered elsewhere).
  # todo: remove when stitching
  have_had_custody_cases_yes = have_had_custody_cases
  have_had_custody_cases_no = not have_had_custody_cases
  have_had_paternity_cases_yes = have_had_paternity_cases
  have_had_paternity_cases_no = not have_had_paternity_cases
  # Important in question display logic in this form
  #defendant_and_plaintiff_are_parents_of_child = True

  normalized_vars_for_attchment = True
---
id: custom_objects
objects:
  - children: PeopleList
  - children_of_parent: PeopleList
  - children_of_custody: PeopleList
  - children_of_both: PeopleList
  - wants_custody_of: PeopleList
  - wants_no_contact_for: PeopleList
  - schools_to_stay_away_from: DAList.using(object_type=Person)
  - majors_needing_support: PeopleList
---
comment: |
  This screen is used to introduce your interview. Please customize.
continue button field: A_complaint_for_protection_from_abuse_probation_copy0005_intro
question: |
  209A Complaint for Protection from Abuse pg 2
subquestion: |
  todo: SME consult because of previous quesiton added: Complete this form if you are applying for 209A restraining order and you have children under 18.
---
question: |
  Do you have children? (todo SME consult on all the children details)
yesno: children_involved_that_are_relevant
---
# todo: Where do we want to use this and how
# do we want to handle it?
id: number_of_children_under_18
question: |
  How many children do you have under 18?
subquestion: |
  Include all children that are yours or that you have care or custody of. (add plain language later)
fields:
  - Number of children you are the parent of: num_children_is_parent_of
    datatype: integer
  - Number of children you have care or custody of: num_children_has_care_of
    datatype: integer
---
# Nothing can be required because they might not
# have even one child they're the parent of, just
# ones they have care of

# todo: handle accidental over 18
# todo: individual question for each child
id: parent_children
question: |
  Tell us about the children that you are the parent of.
subquestion: |
  Click "${word("Add another")}" to add more.
list collect: True
fields:
  - First Name: children_of_parent[i].name.first
  - Middle Name: children_of_parent[i].name.middle
    required: False
  - Last Name: children_of_parent[i].name.last
  - Suffix: children_of_parent[i].name.suffix
    required: False
  - Birthdate: children_of_parent[i].birthdate
  - Is the defendant also a parent of this child?: children_of_parent[i].defendant_is_parent
    datatype: yesnoradio
    show if:
      code: |
        defendant_and_plaintiff_are_parents_of_child is True
# means of any children
validation code: |
  children_of_parent[i].plaintiff_is_parent = True
---
# Nothing can be required because they might not
# have even one child they have care of, just
# ones they are parents to

# todo: handle accidental over 18
# todo: individual question for each child
id: non_parent_children
question: |
  Tell us about the other children that are in your care or custody.
subquestion: |
  Click "${word("Add another")}" to add more.
list collect: True
fields:
  - First Name: children_of_custody[i].name.first
  - Middle Name: children_of_custody[i].name.middle
    required: False
  - Last Name: children_of_custody[i].name.last
    required: False
  - Suffix: children_of_custody[i].name.suffix
  - Birthdate: children_of_custody[i].birthdate
  # Is the below item required here? I didn't understand the final decision.
  - Is the defendant also a parent of this child?: children_of_custody[i].defendant_is_parent
    datatype: yesnoradio
    show if:
      code: |
        defendant_and_plaintiff_are_parents_of_child is True
# means of any children
validation code: |
  children_of_custody[i].plaintiff_is_parent = False
---
id: custody_children
question: |
  Which children do you need the court to give you **custody of**?
fields:
  - no label: wants_custody_of
    datatype: object_checkboxes
    choices: |
      children_of_both
    none of the above: |
      None of them
---
id: no_contact_children
question: |
  Which children do you need the court to tell the defendant **not to contact**?
fields:
  - no label: wants_no_contact_for
    datatype: object_checkboxes
    choices: |
      all_children
    none of the above: |
      None of them
---
id: reasons_no_contact
question: |
  What are the reasons you need the court to tell the defendant not to contact them?
fields:
  - no label: reasons_for_no_contact
    datatype: area
---
id: plaintiff_wants_defendant_to_stay_away_from_schools_daycares
question: |
  Do you need the court to tell the defendant to stay away from schools and daycares?
yesno: schools_to_stay_away_from.there_are_any
---
# For listing for each child (if we choose to do that), see
# 209A_affidavit_disclosing_care_or_custody_proceedings.yml on its branch
id: schools_and_daycares
question:
  Please give us the information for the schools and daycares you want the court to tell the defendant not to go to.
list collect: True
fields:
  - School or daycare name: schools_to_stay_away_from[i].name.text
  - Street address: schools_to_stay_away_from[i].address.address
    address autocomplete: True
  # needed?
  - Unit: schools_to_stay_away_from[i].address.unit
    required: False
  - City: schools_to_stay_away_from[i].address.city
  - State: schools_to_stay_away_from[i].address.state
    code: |
      states_list()
    default: MA      
  - Zip: schools_to_stay_away_from[i].address.zip 
---
id: wants_to_request_visitation_details
question: |
  Visitation
subquestion: |
  You are allowed to ask the court to make orders about when and how the defendant can visit the children.  If you want the court to do this, you have to file the restraining order in Probate and Family Court.  The District Courts and Boston Municipal Court can’t make orders about visitation, but they can still make orders about custody and child support.  The District Courts and Boston Municipal Court can also still make orders prohibiting the Defendant from contacting the children.
  
  Do you want the court to make an order about the defendant’s visitation with the children as part of the restraining order?
yesno: wants_visitation_orders
---
id: prohibit_visitation
question: |
  More About Visitation
subquestion: |
  What do you need the court to order about the Defendant’s visitation? Pick all that apply.
fields:
  - no label: prohibit_visitation
    input type: radio
    choices:
    - I want the court to allow the Defendant to have visitation.   (If you pick this option, you will be able to ask for things like supervision and other protections on the next page.): False
    - I want the court to say the Defendant can’t have visitation.: True
---
id: safe_visits
# Are we sure we want these all on the same page?
# Note: have not yet looked into checkboxes with
# `show if:`s between them.
question: |
  Keeping the Visits Safe
subquestion: |
  You are allowed to ask the court to make the Defendant’s visits supervised and for other safety measures.  Do you want any of the following?

fields:
  - '**Do you need the Defendant’s visits to happen at a supervision center?**': wants_center
    datatype: yesnoradio
  - What visitation center?: visitation_center_name
    required: False
    show if: wants_center
  - Who should have to pay the visitation center’s fees?: pays_for_center
    input type: radio
    show if: wants_center
    choices:
      - The defendant: "defendant"
      - Me: "plaintiff"
      - Someone else: "other"
  - Who?: other_pays_for_center
    show if:
      variable: pays_for_center
      is: "other"
  - html: |
      <hr>

  - '**Do you need the Defendant’s visits to be supervised by someone else?**': wants_supervision
    datatype: yesnoradio
  - Who should the supervisor be?: visitation_supervisor_name_full
    show if: wants_supervision
  - When should the visitation happen?: supervision_time
    #datatype: time # Need something more flexible
    show if: wants_supervision
  - Professional supervisors charge fees.  Who should pay them?: supervision_payer
    input type: radio
    show if: wants_supervision
    choices:
      - The defendant: "defendant"
      - Me: "plaintiff"
      - Someone else: "other"
  - Who?: other_supervision_payer
    show if:
      variable: supervision_payer
      is: "other"
  - html: |
      <hr>

  - '**Do you need someone else to pick up and drop off the children for visits?**': wants_pickup
    datatype: yesnoradio
  - Who should pick up and drop off the child(ren)?: who_picks_up
    show if: wants_pickup
  - html: |
      <hr>

  - '**Do you need the Court to make some other order about visitation?**': wants_other_order
    datatype: yesnoradio
  - What else do you need the court to order?: other_order
    input type: area
    show if: wants_other_order
---
id: seeking_child_support
question: |
  Do you need the court to order the defendant to pay you child support for any of these children?
subquestion: |
  Sometimes, you can ask for child support for kids you share with the defendant that are between 18 and 22. See [Child Support for Children 18-22](https://www.masslegalhelp.org/children-and-families/child-support-over-18) on MassLegalHelp.
fields:
  - no label: wants_child_support_for
    datatype: object_checkboxes
    choices: |
      children_of_both
    none of the above: |
      None of them
---
id: do_non_minors_need_child_support
# todo: similar to children, get number and then show
# the right number of individual questions.
question: |
  Are there any kids that are between 18 and and 22 that you need to add?
subquestion: |
  Sometimes, you can ask for child support for kids you share with the defendant that are between 18 and 22. See [Child Support for Children 18-22](https://www.masslegalhelp.org/children-and-families/child-support-over-18) on MassLegalHelp.
yesno: need_help_for_majors
---
id: non_minors_needing_child_support
question: Tell us about the children you have that are between 18 and 22 (including the 22 year-olds).
  Click "${word("Add another")}" to add more.
list collect: True
fields:
  - First Name: majors_needing_support[i].name.first
  - Middle Name: majors_needing_support[i].name.middle
    required: False
  - Last Name: majors_needing_support[i].name.last
  - Suffix: majors_needing_support[i].name.suffix
    required: False
---
id: have_there_been_other_cases
question: |
  Have there ever been any court cases about the care and custody of ${comma_and_list(children_of_both.elements)}?
yesno: have_had_custody_cases
---
id: paternity
question: |
  Have there ever been any cases between you and the Defendant about the paternity of a child?
yesno: have_had_paternity_cases
---
id: preview attachment
continue button field: A_complaint_for_protection_from_abuse_probation_copy0005_preview_question
question: |
  Placeholder preview screen
subquestion: |
  Here is a preview of the form you'll sign. 
  
  ${A_complaint_for_protection_from_abuse_probation_copy0005_attachment_preview}
---
attachment:
    variable name: A_complaint_for_protection_from_abuse_probation_copy0005_attachment_preview
    name: 209A Page 2
    filename: A_Page_2
    pdf template file: 209A_complaint_page2.pdf
    fields: 
      - "signature_date": ${ signature_date }
      - "signature_date__2": ${ signature_date }
      - "have_had_custody_cases_yes": ${ have_had_custody_cases_yes }
      - "have_had_custody_cases_no": ${ have_had_custody_cases_no }
      - "have_had_paternity_cases_no": ${ have_had_paternity_cases_no }
      - "have_had_paternity_cases_yes": ${ have_had_paternity_cases_yes }
      # todo: wrong boolean ('yes')
      - "requests_custody_yes": ${ requests_custody_yes }
      - "wants_custody_of1_name_full": ${ wants_custody_of1_name_full }
      - "wants_custody_of1_age": ${ wants_custody_of1_age }
      - "wants_custody_of4_name_full": ${ wants_custody_of4_name_full }
      - "wants_custody_of4_age": ${ wants_custody_of4_age }
      - "wants_custody_of2_name_full": ${ wants_custody_of2_name_full }
      - "wants_custody_of2_age": ${ wants_custody_of2_age }
      - "wants_custody_of5_name_full": ${ wants_custody_of5_name_full }
      - "wants_custody_of5_age": ${ wants_custody_of5_age }
      - "wants_custody_of3_name_full": ${ wants_custody_of3_name_full }
      - "wants_custody_of3_age": ${ wants_custody_of3_age }
      - "wants_custody_of6_name_full": ${ wants_custody_of6_name_full }
      - "wants_custody_of6_age": ${ wants_custody_of6_age }
      - "wants_no_contact_for1_name_full": ${ wants_no_contact_for1_name_full }
      - "wants_no_contact_for1_age": ${ wants_no_contact_for1_age }
      - "wants_no_contact_for4_name_full": ${ wants_no_contact_for4_name_full }
      - "wants_no_contact_for4_age": ${ wants_no_contact_for4_age }
      - "wants_no_contact_for2_name_full": ${ wants_no_contact_for2_name_full }
      - "wants_no_contact_for2_age": ${ wants_no_contact_for2_age }
      - "wants_no_contact_for5_name_full": ${ wants_no_contact_for5_name_full }
      - "wants_no_contact_for5_age": ${ wants_no_contact_for5_age }
      - "wants_no_contact_for3_age": ${ wants_no_contact_for3_age }
      - "wants_no_contact_for6_name_full": ${ wants_no_contact_for6_name_full }
      - "wants_no_contact_for3_name_full": ${ wants_no_contact_for3_name_full }
      - "wants_no_contact_for6_age": ${ wants_no_contact_for6_age }
      - "reasons_no_contact": ${ reasons_no_contact }
      # todo: add '_yes' to field name
      - "keep_away_from_schools_daycares": ${ keep_away_from_schools_daycares }
      - "schools_to_stay_away_from": ${ schools_to_stay_away_from_pdf }
      # todo: wrong field type for bool?
      # todo: better name? (wants_visitation_orders)
      - "permit_visitation_yes": ${ permit_visitation_yes }
      # todo: wrong field types for visitation bools?
      - "prohibit_visitation_yes": ${ prohibit_visitation_yes }
      - "visitation_center_name": ${ visitation_center_name }
      - "wants_visitation_center_yes": ${ wants_visitation_center_yes }
      - "visitation_center_payor_name": ${ visitation_center_payor_name }
      - "visitation_supervisor_name": ${ visitation_supervisor_name }
      - "wants_supervision_yes": ${ wants_supervision_yes }
      - "visitation_times": ${ visitation_times }
      - "visitation_supervision_payor_name": ${ visitation_supervision_payor_name }
      - "third_party_name": ${ third_party_name }
      - "wants_third_party_yes": ${ wants_third_party_yes }
      - "other_order_discription": ${ other_order_discription }
      - "wants_other_order_yes": ${ wants_other_order_yes }
      # right bool type
      - "wants_child_support_yes": ${ wants_child_support_yes }
      # Probation copy
      - "have_had_custody_cases_yes__2": ${ have_had_custody_cases_yes }
      - "have_had_custody_cases_no__2": ${ have_had_custody_cases_no }
      - "have_had_paternity_cases_no__2": ${ have_had_paternity_cases_no }
      - "have_had_paternity_cases_yes__2": ${ have_had_paternity_cases_yes }
      - "requests_custody_yes__2": ${ requests_custody_yes }
      - "wants_custody_of1_name_full__2": ${ wants_custody_of1_name_full }
      - "wants_custody_of1_age__2": ${ wants_custody_of1_age }
      - "wants_custody_of4_name_full__2": ${ wants_custody_of4_name_full }
      - "wants_custody_of4_age__2": ${ wants_custody_of4_age }
      - "wants_custody_of2_name_full__2": ${ wants_custody_of2_name_full }
      - "wants_custody_of2_age__2": ${ wants_custody_of2_age }
      - "wants_custody_of5_name_full__2": ${ wants_custody_of5_name_full }
      - "wants_custody_of5_age__2": ${ wants_custody_of5_age }
      - "wants_custody_of3_name_full__2": ${ wants_custody_of3_name_full }
      - "wants_custody_of3_age__2": ${ wants_custody_of3_age }
      - "wants_custody_of6_name_full__2": ${ wants_custody_of6_name_full }
      - "wants_custody_of6_age__2": ${ wants_custody_of6_age }
      - "wants_no_contact_for1_name_full__2": ${ wants_no_contact_for1_name_full }
      - "wants_no_contact_for1_age__2": ${ wants_no_contact_for1_age }
      - "wants_no_contact_for4_name_full__2": ${ wants_no_contact_for4_name_full }
      - "wants_no_contact_for4_age__2": ${ wants_no_contact_for4_age }
      - "wants_no_contact_for2_name_full__2": ${ wants_no_contact_for2_name_full }
      - "wants_no_contact_for2_age__2": ${ wants_no_contact_for2_age }
      - "wants_no_contact_for5_name_full__2": ${ wants_no_contact_for5_name_full }
      - "wants_no_contact_for5_age__2": ${ wants_no_contact_for5_age }
      - "wants_no_contact_for3_age__2": ${ wants_no_contact_for3_age }
      - "wants_no_contact_for6_name_full__2": ${ wants_no_contact_for6_name_full }
      - "wants_no_contact_for3_name_full__2": ${ wants_no_contact_for3_name_full }
      - "wants_no_contact_for6_age__2": ${ wants_no_contact_for6_age }
      - "reasons_no_contact__2": ${ reasons_no_contact }
      - "keep_away_from_schools_daycares__2": ${ keep_away_from_schools_daycares }
      - "schools_to_stay_away_from__2": ${ schools_to_stay_away_from_pdf }
      - "permit_visitation_yes__2": ${ permit_visitation_yes }
      - "prohibit_visitation_yes__2": ${ prohibit_visitation_yes }
      - "visitation_center_name__2": ${ visitation_center_name }
      - "wants_visitation_center_yes__2": ${ wants_visitation_center_yes }
      - "visitation_center_payor_name__2": ${ visitation_center_payor_name }
      - "visitation_supervisor_name__2": ${ visitation_supervisor_name }
      - "wants_supervision_yes__2": ${ wants_supervision_yes }
      - "visitation_times__2": ${ visitation_times }
      - "visitation_supervision_payor_name__2": ${ visitation_supervision_payor_name }
      - "third_party_name__2": ${ third_party_name }
      - "wants_third_party_yes__2": ${ wants_third_party_yes }
      ###################
      # todo: fix
      ###################
      - "other_order_discription": ${ other_order_discription }
      - "wants_other_order_yes__2": ${ wants_other_order_yes }
      - "wants_child_support_yes__2": ${ wants_child_support_yes }
---
mandatory: True
question: |
  Placeholder download screen
subquestion: |
  Placeholder
buttons:
  - Exit: exit
  - Restart: restart
attachment code: A_complaint_for_protection_from_abuse_probation_copy0005_attachment
---
need: A_complaint_for_protection_from_abuse_probation_copy0005
attachment:
    variable name: A_complaint_for_protection_from_abuse_probation_copy0005_attachment
    name: 209A Page 2
    filename: A_Page_2
    pdf template file: 209A_complaint_page2.pdf
    fields:
      # todo: field needs re-doing?
      - "user_signature": ${ users[0].signature }
      - "user_signature_probation_copy": ${ users[0].signature }
      - "signature_date": ${ signature_date }
      - "signature_date__2": ${ signature_date }
      - "have_had_custody_cases_yes": ${ have_had_custody_cases_yes }
      - "have_had_custody_cases_no": ${ have_had_custody_cases_no }
      - "have_had_paternity_cases_no": ${ have_had_paternity_cases_no }
      - "have_had_paternity_cases_yes": ${ have_had_paternity_cases_yes }
      - "requests_custody_yes": ${ requests_custody_yes }
      - "wants_custody_of1_name_full": ${ wants_custody_of1_name_full }
      - "wants_custody_of1_age": ${ wants_custody_of1_age }
      - "wants_custody_of4_name_full": ${ wants_custody_of4_name_full }
      - "wants_custody_of4_age": ${ wants_custody_of4_age }
      - "wants_custody_of2_name_full": ${ wants_custody_of2_name_full }
      - "wants_custody_of2_age": ${ wants_custody_of2_age }
      - "wants_custody_of5_name_full": ${ wants_custody_of5_name_full }
      - "wants_custody_of5_age": ${ wants_custody_of5_age }
      - "wants_custody_of3_name_full": ${ wants_custody_of3_name_full }
      - "wants_custody_of3_age": ${ wants_custody_of3_age }
      - "wants_custody_of6_name_full": ${ wants_custody_of6_name_full }
      - "wants_custody_of6_age": ${ wants_custody_of6_age }
      - "wants_no_contact_for1_name_full": ${ wants_no_contact_for1_name_full }
      - "wants_no_contact_for1_age": ${ wants_no_contact_for1_age }
      - "wants_no_contact_for4_name_full": ${ wants_no_contact_for4_name_full }
      - "wants_no_contact_for4_age": ${ wants_no_contact_for4_age }
      - "wants_no_contact_for2_name_full": ${ wants_no_contact_for2_name_full }
      - "wants_no_contact_for2_age": ${ wants_no_contact_for2_age }
      - "wants_no_contact_for5_name_full": ${ wants_no_contact_for5_name_full }
      - "wants_no_contact_for5_age": ${ wants_no_contact_for5_age }
      - "wants_no_contact_for3_age": ${ wants_no_contact_for3_age }
      - "wants_no_contact_for6_name_full": ${ wants_no_contact_for6_name_full }
      - "wants_no_contact_for3_name_full": ${ wants_no_contact_for3_name_full }
      - "wants_no_contact_for6_age": ${ wants_no_contact_for6_age }
      - "reasons_no_contact": ${ reasons_no_contact }
      - "keep_away_from_schools_daycares": ${ keep_away_from_schools_daycares }
      - "schools_to_stay_away_from": ${ schools_to_stay_away_from_pdf }
      - "permit_visitation_yes": ${ permit_visitation_yes }
      - "prohibit_visitation_yes": ${ prohibit_visitation_yes }
      - "visitation_center_name": ${ visitation_center_name }
      - "wants_visitation_center_yes": ${ wants_visitation_center_yes }
      - "visitation_center_payor_name": ${ visitation_center_payor_name }
      - "visitation_supervisor_name": ${ visitation_supervisor_name }
      - "wants_supervision_yes": ${ wants_supervision_yes }
      - "visitation_times": ${ visitation_times }
      - "visitation_supervision_payor_name": ${ visitation_supervision_payor_name }
      - "third_party_name": ${ third_party_name }
      - "wants_third_party_yes": ${ wants_third_party_yes }
      - "other_order_discription": ${ other_order_discription }
      - "wants_other_order_yes": ${ wants_other_order_yes }
      - "wants_child_support_yes": ${ wants_child_support_yes }
      # Probation copy
      - "have_had_custody_cases_yes__2": ${ have_had_custody_cases_yes }
      - "have_had_custody_cases_no__2": ${ have_had_custody_cases_no }
      - "have_had_paternity_cases_no__2": ${ have_had_paternity_cases_no }
      - "have_had_paternity_cases_yes__2": ${ have_had_paternity_cases_yes }
      - "requests_custody_yes__2": ${ requests_custody_yes }
      - "wants_custody_of1_name_full__2": ${ wants_custody_of1_name_full }
      - "wants_custody_of1_age__2": ${ wants_custody_of1_age }
      - "wants_custody_of4_name_full__2": ${ wants_custody_of4_name_full }
      - "wants_custody_of4_age__2": ${ wants_custody_of4_age }
      - "wants_custody_of2_name_full__2": ${ wants_custody_of2_name_full }
      - "wants_custody_of2_age__2": ${ wants_custody_of2_age }
      - "wants_custody_of5_name_full__2": ${ wants_custody_of5_name_full }
      - "wants_custody_of5_age__2": ${ wants_custody_of5_age }
      - "wants_custody_of3_name_full__2": ${ wants_custody_of3_name_full }
      - "wants_custody_of3_age__2": ${ wants_custody_of3_age }
      - "wants_custody_of6_name_full__2": ${ wants_custody_of6_name_full }
      - "wants_custody_of6_age__2": ${ wants_custody_of6_age }
      - "wants_no_contact_for1_name_full__2": ${ wants_no_contact_for1_name_full }
      - "wants_no_contact_for1_age__2": ${ wants_no_contact_for1_age }
      - "wants_no_contact_for4_name_full__2": ${ wants_no_contact_for4_name_full }
      - "wants_no_contact_for4_age__2": ${ wants_no_contact_for4_age }
      - "wants_no_contact_for2_name_full__2": ${ wants_no_contact_for2_name_full }
      - "wants_no_contact_for2_age__2": ${ wants_no_contact_for2_age }
      - "wants_no_contact_for5_name_full__2": ${ wants_no_contact_for5_name_full }
      - "wants_no_contact_for5_age__2": ${ wants_no_contact_for5_age }
      - "wants_no_contact_for3_age__2": ${ wants_no_contact_for3_age }
      - "wants_no_contact_for6_name_full__2": ${ wants_no_contact_for6_name_full }
      - "wants_no_contact_for3_name_full__2": ${ wants_no_contact_for3_name_full }
      - "wants_no_contact_for6_age__2": ${ wants_no_contact_for6_age }
      - "reasons_no_contact__2": ${ reasons_no_contact }
      - "keep_away_from_schools_daycares__2": ${ keep_away_from_schools_daycares }
      - "schools_to_stay_away_from__2": ${ schools_to_stay_away_from_pdf }
      - "permit_visitation_yes__2": ${ permit_visitation_yes }
      - "prohibit_visitation_yes__2": ${ prohibit_visitation_yes }
      - "visitation_center_name__2": ${ visitation_center_name }
      - "wants_visitation_center_yes__2": ${ wants_visitation_center_yes }
      - "visitation_center_payor_name__2": ${ visitation_center_payor_name }
      - "visitation_supervisor_name__2": ${ visitation_supervisor_name }
      - "wants_supervision_yes__2": ${ wants_supervision_yes }
      - "visitation_times__2": ${ visitation_times }
      - "visitation_supervision_payor_name__2": ${ visitation_supervision_payor_name }
      - "third_party_name__2": ${ third_party_name }
      - "wants_third_party_yes__2": ${ wants_third_party_yes }
      ###################
      # todo: fix
      ###################
      - "other_order_discription": ${ other_order_discription }
      - "wants_other_order_yes__2": ${ wants_other_order_yes }
      - "wants_child_support_yes__2": ${ wants_child_support_yes }
---